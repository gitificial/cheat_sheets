# CMake Cheat Sheet

## **Basic Commands**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `cmake .`                                       | Run CMake to configure the current directory.               |
| `cmake <path>`                                  | Configure a CMake project in a specific directory.          |
| `cmake <path_to_source> -B <path_to_build>`      | Generate build system in a separate build directory.        |
| `cmake --build <path_to_build>`                  | Build the project in the specified build directory.         |
| `make`                                          | Build using the Makefile generated by CMake.                |
| `cmake --version`                               | Display the version of CMake installed.                      |
| `cmake --help`                                  | Display help on CMake commands and options.                  |

## **Setting Variables**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `cmake -D<variable>=<value> <path_to_source>`     | Set a CMake variable to a specific value.                   |
| `CMAKE_BUILD_TYPE`                              | Set the build type (e.g., `Debug`, `Release`, `RelWithDebInfo`, `MinSizeRel`). |
| `CMAKE_INSTALL_PREFIX`                          | Set the installation directory for your project.            |
| `CMAKE_CXX_STANDARD`                            | Set the C++ standard version to use (e.g., `11`, `14`, `17`).|
| `CMAKE_C_COMPILER`                              | Set the C compiler to use (e.g., `/usr/bin/gcc`).            |
| `CMAKE_CXX_COMPILER`                            | Set the C++ compiler to use (e.g., `/usr/bin/g++`).          |

## **Generating Build Files**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `cmake -G "Unix Makefiles" <path_to_source>`     | Generate Makefiles for Unix-based systems.                  |
| `cmake -G "Ninja" <path_to_source>`             | Generate build files for Ninja (alternative to Make).       |
| `cmake -G "Visual Studio 16 2019" <path_to_source>` | Generate Visual Studio project files (for VS 2019).        |
| `cmake -G "Xcode" <path_to_source>`             | Generate Xcode project files.                               |

## **Building Projects**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `cmake --build <path_to_build>`                  | Build the project using the build system in `<path_to_build>`. |
| `cmake --target <target_name>`                   | Build a specific target (e.g., `cmake --target install`).    |
| `cmake --build <path_to_build> --target <target>` | Build a specific target from the specified build directory. |

## **Installing Projects**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `make install`                                   | Install the built project to the location specified by `CMAKE_INSTALL_PREFIX`. |
| `cmake --install <path_to_build>`                | Install from the specified build directory.                 |

## **Common CMake Functions**

| **Function**                                     | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `find_package(<package>)`                        | Find and configure external dependencies or libraries.       |
| `include_directories(<dirs>)`                    | Add directories to the list of paths to search for headers. |
| `link_directories(<dirs>)`                       | Add directories to the list of paths to search for libraries.|
| `add_executable(<name> <source_files>)`          | Create an executable from source files.                     |
| `add_library(<name> <source_files>)`             | Create a library from source files.                         |
| `target_link_libraries(<target> <libraries>)`    | Link a target with libraries.                               |
| `set(<variable> <value>)`                        | Set the value of a CMake variable.                          |
| `message(<type> <message>)`                      | Display a message during the configuration process.        |
| `option(<option_name> <description> <default_value>)` | Define a boolean option.                                    |

## **Package Management**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `find_package(PackageName REQUIRED)`             | Find a required package.                                    |
| `find_package(PackageName OPTIONAL)`             | Find an optional package.                                   |
| `find_package(PackageName VERSION <version>)`    | Find a package with a specific version.                     |

## **Working with External Projects**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `ExternalProject_Add()`                         | Add an external project to CMake.                           |
| `add_dependencies(<target> <dependencies>)`      | Add dependencies to a target (e.g., executable or library). |

## **Conditionals and Loops**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `if(<condition>)`                               | Run code only if a condition is true.                       |
| `elseif(<condition>)`                           | Specify an alternative condition.                           |
| `else()`                                        | Run code if none of the previous conditions are true.       |
| `endif()`                                       | End an `if` block.                                           |
| `foreach(<var> IN <list>)`                      | Iterate over a list of items.                               |
| `endforeach()`                                  | End a `foreach` loop.                                        |

## **Debugging CMake**

| **Command**                                      | **Description**                                             |
|-------------------------------------------------|-------------------------------------------------------------|
| `cmake --trace`                                  | Print every CMake command as it is executed.                |
| `cmake --trace-expand`                           | Show expanded values of variables in the trace.             |
| `cmake --debug-output`                          | Display detailed debug output.                              |
| `cmake --help <command>`                        | Show detailed help for a specific command.                  |

## **CMakeLists.txt Example**

```cmake
# Set the minimum required version of CMake
cmake_minimum_required(VERSION 3.10)

# Set project name and version
project(MyProject VERSION 1.0)

# Set the C++ standard
set(CMAKE_CXX_STANDARD 17)

# Add an executable
add_executable(my_program main.cpp)

# Link libraries
target_link_libraries(my_program PRIVATE my_library)

# Install the executable
install(TARGETS my_program DESTINATION bin)
